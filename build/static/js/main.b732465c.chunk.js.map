{"version":3,"sources":["AdminComponents/AdminTest.jsx","AuthComponents/Login.jsx","AuthComponents/Register.jsx","icons/register.svg","icons/log.svg","AuthComponents/Panel.jsx","CommonComponents/SnackBarComponent.jsx","AuthComponents/MainAuth.jsx","MiddlewareComponents/RequestHandle.js","ListComponent/ListComponent.jsx","FormComponents/CustomForm.jsx","FormComponents/Form.jsx","FormComponents/MainForm.jsx","MiddlewareComponents/Protected.jsx","App.jsx","index.js"],"names":["AdminTest","Login","props","useState","email","setEmail","password","setPassword","history","useHistory","id","className","type","name","placeholder","value","onChange","e","target","onClick","console","log","payload","requestOptions","method","headers","body","JSON","stringify","fetch","then","res","json","data","undefined","error","setMessage","setSeverity","setOpen","message","localStorage","accessToken","refreshToken","userId","setTimeout","push","Register","setName","Panel","src","logIcon","alt","registerIcon","Alert","elevation","variant","SnackBarComponent","React","open","handleClose","event","reason","Snackbar","autoHideDuration","onClose","style","marginTop","anchorOrigin","vertical","horizontal","severity","MainAuth","setValue","callback","proxy","fetchData","path","a","response","requestoptions","ListComponent","rows","setRows","useEffect","height","window","innerHeight","width","columns","field","headerName","disableClickEventBubbling","pageSize","useStyles","makeStyles","list","fullList","root","flexGrow","menuButton","marginRight","title","CustomForm","anchor","classes","tabName","setTabName","top","left","bottom","right","state","setState","toggleDrawer","key","formClick","recentClick","AppBar","position","background","Toolbar","IconButton","edge","color","aria-label","Typography","Button","removeItem","Fragment","SwipeableDrawer","onOpen","clsx","role","onKeyDown","Card","CardActionArea","CardContent","gutterBottom","component","Divider","List","ListItem","button","ListItemIcon","ListItemText","primary","Form","fileName","setfileName","consumerName","setConsumerName","fatherName","setFatherName","address","setAddress","accountId","setAccountId","meterId","setMeterId","district","setDistrict","sellingBookNo","setSellingBookNo","sellingPageNo","setSellingPageNo","meterPosition","setMeterPosition","installationDate","setInstallationDate","plasticSeal","setPlasticSeal","filePath","setFilePath","innerWidth","action","encType","required","requiredz","marginLeft","hidden","files","length","slice","handleInputSelect","htmlFor","FormData","append","originalFileName","result","status","validateData","filename","Date","MainForm","Protected","Component","Comp","App","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b732465c.chunk.js","sourcesContent":["import React from 'react'\n\nconst AdminTest = () => {\n    return (\n        <h1>THIS IS ADMIN PAGE</h1>\n    )\n}\n\nexport default AdminTest","import React, {useState} from 'react';\nimport {useHistory} from 'react-router-dom'\n\nconst Login = (props) => {\n  \n  const [email,setEmail] = useState()\n  const [password,setPassword] = useState()\n  let history = useHistory();\n\n  const loginBtn = () => {\n    console.log(email,password)\n    let payload = {\n      email: email,\n      password: password\n    }\n\n    const requestOptions = {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(payload)\n    }\n\n    fetch(\"http://localhost:7860/login\",requestOptions)\n      .then(res => res.json())\n      .then(data => {\n        console.log(data)  \n        if (data.error !== undefined) {\n          props.setMessage(data.error);\n          props.setSeverity(\"error\")\n          props.setOpen(true);\n        }  \n        else if (data.message === \"Login successfuly\") {\n          localStorage.accessToken = data.accessToken;\n          localStorage.refreshToken = data.refreshToken;\n          localStorage.name = data.name;\n          localStorage.email = data.email;\n          localStorage.userId = data.userId;\n          props.setMessage(data.message);\n          props.setSeverity(\"success\")\n          props.setOpen(true);\n          setTimeout(() => {\n            if (data.type === 2) history.push('/form')\n            else if(data.type === 1) history.push('/admin')\n          }, 2000);\n        }\n        else {\n          props.setMessage(data.message);\n          props.setSeverity(\"warning\")\n          props.setOpen(true);\n        }\n      })\n    }\n  \n\n    return (\n          <form id=\"login-form\" className=\"sign-in-form\">\n            <h2 className=\"title\">Sign in</h2>\n            <div className=\"input-field\">\n              <i className=\"fas fa-user\"></i>\n              <input type=\"text\" name=\"email\" placeholder=\"Email\" value={email} onChange={(e) => {setEmail(e.target.value)}}/>\n            </div>\n            <div className=\"input-field\">\n              <i className=\"fas fa-lock\"></i>\n              <input type=\"password\" name=\"password\" placeholder=\"Password\" value={password} onChange={(e) => {setPassword(e.target.value)}}/>\n            </div>\n            <input type=\"button\" value=\"Login\" className=\"btn solid\" onClick={loginBtn}/>\n          </form>\n    ) \n}\n\nexport default Login;","import React, { useState } from \"react\";\n\nconst Register = (props) => {\n  const [name, setName] = useState();\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n\n  const registerBtn = () => {\n    let payload = {\n      name: name,\n      email: email,\n      password: password,\n    };\n\n    const requestOptions = {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(payload),\n    };\n\n    fetch(\"/register\", requestOptions)\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.error !== undefined) {\n          props.setMessage(data.error);\n          props.setSeverity(\"error\")\n          props.setOpen(true);\n        }\n        \n        else if (data.message === \"User registered successfully\") {\n          props.setMessage(data.message);\n          props.onChange(\"container\");\n          props.setSeverity(\"success\")\n          props.setOpen(true);\n        }\n        else {\n          props.setMessage(data.message);\n          props.setSeverity(\"warning\")\n          props.setOpen(true);\n        }\n        console.log(data)\n      });\n  };\n\n  return (\n    <>\n      <form name=\"signup\" id=\"signupForm\" className=\"sign-up-form\">\n        <h2 className=\"title\">Sign up</h2>\n        <div className=\"input-field\">\n          <i className=\"fas fa-user\"></i>\n          <input\n            type=\"text\"\n            name=\"name\"\n            placeholder=\"Username\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n          />\n        </div>\n        <div className=\"input-field\">\n          <i className=\"fas fa-envelope\"></i>\n          <input\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"Email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n        </div>\n        <div className=\"input-field\">\n          <i className=\"fas fa-lock\"></i>\n          <input\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </div>\n        <input\n          type=\"button\"\n          onClick={registerBtn}\n          className=\"btn\"\n          value=\"Sign up\"\n        />\n      </form>\n    </>\n  );\n};\n\nexport default Register;\n","export default __webpack_public_path__ + \"static/media/register.270edb26.svg\";","export default __webpack_public_path__ + \"static/media/log.cd046e1a.svg\";","import React from 'react';\nimport registerIcon from '../icons/register.svg';\nimport logIcon from '../icons/log.svg';\n\nconst Panel = (props) => {\n    return (\n        <div className=\"panels-container\">\n            <div className=\"panel left-panel\">\n            <div className=\"content\">\n                <h3>New here ?</h3>\n                <p>\n                Lets move towards the signup page\n                </p>\n                <button className=\"btn transparent\" id=\"sign-up-btn\" onClick={()=>{props.onChange(\"container sign-up-mode\")}}>\n                Sign up\n                </button>\n            </div>\n            <img src={logIcon} className=\"image\" alt=\"\" />\n            </div>\n            <div className=\"panel right-panel\">\n            <div className=\"content\">\n                <h3>One of us ?</h3>\n                <p>\n                Lets move towards the signin page\n                </p>\n                <button className=\"btn transparent\" id=\"sign-in-btn\" onClick={()=>{props.onChange(\"container\")}} >\n                Sign in\n                </button>\n            </div>\n            <img src={registerIcon} className=\"image\" alt=\"\" />\n            </div>\n      </div>\n    )\n}\n\nexport default Panel;","import { Slide, Snackbar } from \"@material-ui/core\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport React from \"react\";\n\nconst Alert = (props) => {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n};\n\nconst SnackBarComponent = (props) => {\n  const [open, setOpen] = React.useState(true);\n\n  const handleClose = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setOpen(false);\n    props.setOpen(false);\n  };\n\n  return (\n    <Snackbar\n      open={open}\n      autoHideDuration={3000}\n      onClose={handleClose}\n      // TransitionComponent={() => { return <Slide  direction=\"up\"/>}}\n      style={{marginTop:50}}\n      anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n    >\n      <Alert onClose={handleClose} severity={props.severity}>\n        {props.message}\n      </Alert>\n    </Snackbar>\n  );\n};\n\nexport default SnackBarComponent;\n","import React ,{useState} from 'react';\nimport Login from './Login';\nimport Register from './Register';\nimport Panel from './Panel';\nimport './Auth.css';\nimport SnackBarComponent from '../CommonComponents/SnackBarComponent';\n\n\nconst MainAuth = (props) => {\n    const [value,setValue] = useState(\"container\")\n    const [open,setOpen] = useState(false)\n    const [message,setMessage] = useState(\"\")\n    const [severity,setSeverity] = useState(\"success\")\n    \n    return (\n        <div className={value}>\n            <div className=\"forms-container\">\n                <div className=\"signin-signup\">\n                    <Login callback={()=>props.callback()} setOpen = {(e)=>{setOpen(e)}} setMessage={(e) => {setMessage(e); console.log(e)}} setSeverity = {(e) => setSeverity(e)}/>\n                    <Register onChange = {(e) => {setValue(e)}} setOpen = {(e)=>{setOpen(e)}} setMessage={(e) => {setMessage(e); console.log(e)}} setSeverity = {(e) => setSeverity(e)}/>\n                </div>\n            </div>\n            <Panel onChange = {(e) => {setValue(e)}}/>\n            { open && <SnackBarComponent setOpen = {(e) => {setOpen(false)}} message={message} severity={severity}/> }\n        </div>\n    )\n}\n\nexport default  MainAuth;","const proxy = 'http://localhost:7860';\n\nexport async function fetchData(path,requestOptions) {\n    let response;\n    \n    requestOptions.headers = {\n        ...requestOptions.headers,\n        'Authorization' : localStorage.accessToken\n    } \n\n    console.log(requestOptions)\n          await fetch(proxy + path,requestOptions).then(res => res.json()).then(async data =>{\n          if (data.message !== \"Unauthorized\") {\n            console.log(\"AUTHORIZED\")\n            response= data; \n          }\n          else {\n            console.log(\"Message is unauthorized Try to refresh session\")\n            const payload = {\n                refreshToken:localStorage.refreshToken\n            }\n    \n            const requestoptions = {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify(payload)\n            }\n            console.log(\"Generate new key with refresh token\")\n            await fetch('http://localhost:7860/refresh_session',requestoptions).then(res => res.json()).then(data=>{\n                if (data.message === \"session refreshed\") {\n                    console.log(\"access token refreshed by using refreshtoken\",data)\n                    localStorage.accessToken  = data.accessToken\n                    localStorage.refreshToken = data.refreshToken\n                    response = this.fetchData(path,requestOptions,payload)\n                }\n                else {\n                    console.log(\"Refresh token is also expired\")\n                    response = null;\n                }\n            })\n          }\n      })\n      return response;\n}\n","import { DataGrid } from '@material-ui/data-grid';\nimport React, { useEffect, useState } from \"react\";\nimport { fetchData } from '../MiddlewareComponents/RequestHandle';\n\nconst ListComponent = () => {\n\n    const [rows,setRows] = useState([]);\n\n    const columns = [\n        { field: 'id', headerName: 'No.', width: 80, disableClickEventBubbling: true},\n        { field: 'consumerName', headerName: 'Consumer name', width: 130, disableClickEventBubbling: true },\n        { field: 'fatherName', headerName: 'Father name', width: 130, disableClickEventBubbling: true },\n        { field: 'meterId',type:'number', headerName: 'Meter Id', width: 130,disableClickEventBubbling: true },\n        // {\n        //   field: 'age',\n        //   headerName: 'Age',\n        //   type: 'number',\n        //   width: 90,\n        // },\n        // {\n        //   field: 'fullName',\n        //   headerName: 'Full name',\n        //   description: 'This column has a value getter and is not sortable.',\n        //   sortable: false,\n        //   width: 160,\n        //   // valueGetter: (params: ValueGetterParams) =>\n        //   //   `${params.getValue('firstName') || ''} ${params.getValue('lastName') || ''}`,\n        // },\n      ];\n\n      useEffect(()=>{\n        const payload = {\n          id:localStorage.userId\n        }\n        const requestOptions = {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify(payload)\n        }\n        fetchData('/getList',requestOptions).then((data) => {\n          console.log(data)\n          setRows(data)\n        })\n      },[])\n\n  return (\n    <>\n      <div style={{ height: window.innerHeight-60, width: \"100%\" }}>\n        <DataGrid  \n          rows={rows}\n          columns={columns}\n          pageSize={8}\n        />\n      </div>\n    </>\n  );\n};\n\nexport default ListComponent;\n","import React, { useState } from \"react\";\nimport clsx from \"clsx\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport SwipeableDrawer from \"@material-ui/core/SwipeableDrawer\";\nimport Button from \"@material-ui/core/Button\";\nimport List from \"@material-ui/core/List\";\nimport Divider from \"@material-ui/core/Divider\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport InboxIcon from \"@material-ui/icons/MoveToInbox\";\nimport ReceiptIcon from \"@material-ui/icons/Receipt\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport { Card, CardActionArea, CardContent } from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\nimport Form from \"./Form\";\nimport SnackBarComponent from \"../CommonComponents/SnackBarComponent\";\nimport ListComponent from \"../ListComponent/ListComponent\";\n\nconst useStyles = makeStyles({\n  list: {\n    width: 250,\n  },\n  fullList: {\n    // width: \"auto\"\n  },\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: 20,\n  },\n  title: {\n    flexGrow: 1,\n  },\n});\n\nexport default function CustomForm(props) {\n  const classes = useStyles();\n  const history = useHistory();\n  const [tabName, setTabName] = useState(\"Form\");\n  const [open, setOpen] = useState(false);\n  const [state, setState] = useState({\n    top: false,\n    left: false,\n    bottom: false,\n    right: false,\n  });\n\n  const logOut = () => {\n    localStorage.removeItem(\"accessToken\");\n    localStorage.removeItem(\"refreshToken\");\n    localStorage.removeItem(\"name\");\n    localStorage.removeItem(\"email\");\n    localStorage.removeItem(\"userId\");\n    setOpen(true);\n    setTimeout(() => {\n      history.push(\"/\");\n    }, 2000);\n  };\n\n  const toggleDrawer = (anchor, open) => (event) => {\n    if (\n      event &&\n      event.type === \"keydown\" &&\n      (event.key === \"Tab\" || event.key === \"Shift\")\n    ) {\n      return;\n    }\n\n    setState({ ...state, [anchor]: open });\n  };\n\n  const formClick = () => {\n    setTabName(\"Form\");\n  };\n\n  const recentClick = () => {\n    setTabName(\"Recent\");\n  };\n\n  const list = (anchor) => (\n    <div\n      className={clsx(classes.list, {\n        [classes.fullList]: anchor === \"top\" || anchor === \"bottom\",\n      })}\n      role=\"presentation\"\n      onClick={toggleDrawer(anchor, false)}\n      onKeyDown={toggleDrawer(anchor, false)}\n    >\n      <Card className={classes.root}>\n        <CardActionArea>\n          <CardContent>\n            <Typography gutterBottom variant=\"h5\" component=\"h2\">\n              {localStorage.name}\n            </Typography>\n            <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n              {localStorage.email} \n              <br></br>\n              Hi {localStorage.name}, Thanks for choosing us\n            </Typography>\n          </CardContent>\n        </CardActionArea>\n      </Card>\n\n      <Divider />\n      <List>\n        <ListItem button key={\"Form\"} onClick={formClick}>\n          <ListItemIcon>\n            <ReceiptIcon />\n          </ListItemIcon>\n          <ListItemText primary={\"Form\"} />\n        </ListItem>\n        <ListItem button key={\"Recent\"} onClick={recentClick}>\n          <ListItemIcon>\n            <InboxIcon />\n          </ListItemIcon>\n          <ListItemText primary={\"Recent\"} />\n        </ListItem>\n      </List>\n    </div>\n  );\n\n  return (\n    <div>\n      <AppBar position=\"sticky\" style={{background : \"rgb(47 123 255)\"} }>\n        <Toolbar>\n          <IconButton\n            edge=\"start\"\n            className={classes.menuButton}\n            color=\"inherit\"\n            onClick={toggleDrawer(\"left\", true)}\n            aria-label=\"menu\"\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography variant=\"h6\" className={classes.title}>\n            {tabName}\n          </Typography>\n          <Button color=\"inherit\" onClick={logOut}>\n            Logout\n          </Button>\n        </Toolbar>\n      </AppBar>\n      <React.Fragment key={\"left\"}>\n        <SwipeableDrawer\n          anchor={\"left\"}\n          open={state[\"left\"]}\n          onClose={toggleDrawer(\"left\", false)}\n          onOpen={toggleDrawer(\"left\", true)}\n        >\n          {list(\"left\")}\n        </SwipeableDrawer>\n      </React.Fragment>\n      {tabName === \"Form\" && <Form />}\n      {tabName === \"Recent\" && <ListComponent />}\n      { open && <SnackBarComponent setOpen = {(e) => {setOpen(false)}} message=\"Logout successfully\" severity=\"success\"/> }\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport AdminTest from \"../AdminComponents/AdminTest\";\nimport { fetchData } from \"../MiddlewareComponents/RequestHandle.js\";\nimport \"./form.css\";\nimport FullWidthTabs from \"./CustomForm\";\nimport SnackBarComponent from \"../CommonComponents/SnackBarComponent\";\n\n// const useStyles = makeStyles((theme) => ({\n//   root: {\n//     flexGrow: 1,\n//   },\n//   menuButton: {\n//     marginRight: theme.spacing(2),\n//   },\n//   title: {\n//     flexGrow: 1,\n//   },\n// }));\n\nconst Form = () => {\n  let history = useHistory();\n\n  const [fileName, setfileName] = useState(\"No file\");\n  const [consumerName, setConsumerName] = useState();\n  const [fatherName, setFatherName] = useState();\n  const [address, setAddress] = useState();\n  const [accountId, setAccountId] = useState();\n  const [meterId, setMeterId] = useState();\n  const [district, setDistrict] = useState();\n  const [sellingBookNo, setSellingBookNo] = useState();\n  const [sellingPageNo, setSellingPageNo] = useState();\n  const [meterPosition, setMeterPosition] = useState();\n  const [installationDate, setInstallationDate] = useState();\n  const [plasticSeal, setPlasticSeal] = useState();\n  const [filePath, setFilePath] = useState();\n  const [message, setMessage] = useState();\n  const [severity, setSeverity] = useState();\n  const [open, setOpen] = useState();\n\n  const clearForm = () => {\n    setConsumerName(\"\");\n    setFatherName(\"\");\n    setAddress(\"\");\n    setAccountId(\"\");\n    setMeterId(\"\");\n    setMeterPosition(\"\");\n    setDistrict(\"\");\n    setSellingPageNo(\"\");\n    setSellingBookNo(\"\");\n    setInstallationDate(new Date());\n    setInstallationDate(undefined);\n    setPlasticSeal(\"\");\n    setfileName(\"No file\");\n    setFilePath(\"\");\n  };\n\n  const validateData = (payload)=> {\n    let result = {\n      message : \"\",\n      status : true\n    }\n    if (payload.meterId === \"\") {\n      result.message = \"Please enter meter id\"\n      result.status = false\n    }\n    if (payload.fatherName === \"\") {\n      result.message = \"Please enter father's name\"\n      result.status = false\n    }\n    if (payload.consumerName === \"\") {\n      result.message = \"Please enter consumer name\"\n      result.status = false\n    }\n    \n    \n    return result;\n  }\n\n  const submitForm = () => {\n    console.log(\n      consumerName,\n      fatherName,\n      address,\n      accountId,\n      meterId,\n      district,\n      meterPosition,\n      sellingBookNo,\n      sellingPageNo,\n      installationDate,\n      plasticSeal,\n      fileName\n    );\n    var data = new FormData();\n    data.append(\"fileUploaded\", filePath);\n    console.log(data);\n    let payload = {\n      consumerName,\n      fatherName,\n      address,\n      accountId,\n      meterId,\n      district,\n      meterPosition,\n      sellingBookNo,\n      sellingPageNo,\n      installationDate,\n      plasticSeal,\n      originalFileName: filePath ? filePath.name : null,\n    };\n    let result = validateData(payload)\n    if (!result.status) {\n      setSeverity(\"warning\");\n      setMessage(result.message);\n      setOpen(true)\n      return;\n    }\n\n    console.log(payload)\n    let requestOptions = {\n      method: \"POST\",\n      body: data,\n    };\n    fetchData(\"/upload\", requestOptions).then((data) => {\n\n      if (data == null) {\n        setSeverity(\"error\");\n        setMessage(\"Unable to submit the form. Please login again.\");\n        setOpen(true)\n        setTimeout(() => {\n          return history.push(\"/\");\n        }, 2000);\n      }\n      payload = {\n        ...payload,\n        fileName: data.filename,\n      };\n      fetchData(\"/submitForm\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(payload),\n      }).then((data) => {\n        setMessage(data.message);\n        setSeverity(\"success\");\n        setOpen(true)\n        clearForm();\n      });\n    });\n  };\n\n  // const logOut = ()=> {\n  //     localStorage.removeItem(\"accessToken\")\n  //     localStorage.removeItem(\"refreshToken\")\n  //     history.push('/')\n  // }\n\n  const handleInputSelect = (event) => {\n    let name = event.target.files[0].name;\n\n    setFilePath(event.target.files[0]);\n    if (name.length >= 15) {\n      name =\n        name.slice(0, 13) + \"...\" + name.slice(name.length - 5, name.length);\n    }\n    setfileName(name);\n  };\n\n  return (\n    <>\n      <div className=\"background-color\"></div>\n      <div className=\"backcontainer \">\n        <div className=\"card-container\">\n          <div className=\"wrapper card\">\n            {window.innerWidth >480 && <h2> Data Form </h2>}\n            <form\n              action=\"http://localhost:7860/upload\"\n              method=\"post\"\n              encType=\"multipart/form-data\"\n            >\n              <div className=\"input-name\">\n                <i className=\"fa fa-user lock\"></i>\n                <input\n                  type=\"text\"\n                  placeholder=\"Consumer Name\"\n                  value={consumerName}\n                  required\n                  onChange={(e) => setConsumerName(e.target.value)}\n                  className=\"name\"\n                />\n              </div>\n              <div className=\"input-name\">\n                <i className=\"fa fa-user lock\"></i>\n                <input\n                  type=\"text\"\n                  placeholder=\"Father Name\"\n                  required\n                  className=\"name\"\n                  value={fatherName}\n                  onChange={(e) => setFatherName(e.target.value)}\n                />\n              </div>\n              <div className=\"input-name\">\n                <i className=\"fa fa-address-card\"></i>\n                <input\n                  type=\"text\"\n                  placeholder=\"Address(village)\"\n                  className=\"text-name\"\n                  value={address}\n                  onChange={(e) => setAddress(e.target.value)}\n                />\n              </div>\n              <div className=\"input-name\">\n                <i className=\"fa fa-user circle-o\"></i>\n                <input\n                  type=\"text\"\n                  placeholder=\"Account Id\"\n                  className=\"text-name\"\n                  value={accountId}\n                  onChange={(e) => setAccountId(e.target.value)}\n                />\n              </div>\n              <div className=\"input-name\">\n                <i className=\"fa fa-calculator\"></i>\n                <input\n                  type=\"text\"\n                  placeholder=\"Meter Id\"\n                  className=\"text-name\"\n                  requiredz\n                  value={meterId}\n                  onChange={(e) => setMeterId(e.target.value)}\n                />\n              </div>\n              <div className=\"input-name\">\n                <i className=\"fa fa-location-arrow\"></i>\n                <input\n                  type=\"text\"\n                  placeholder=\"District\"\n                  className=\"text-name\"\n                  value={district}\n                  onChange={(e) => setDistrict(e.target.value)}\n                />\n              </div>\n              <div className=\"input-name\">\n                <i className=\"fa fa-line-chart\"></i>\n                <input\n                  type=\"text\"\n                  placeholder=\"Meter position\"\n                  className=\"text-name\"\n                  value={meterPosition}\n                  onChange={(e) => setMeterPosition(e.target.value)}\n                />\n              </div>\n              <div className=\"input-name\">\n                <i className=\"fa fa-book\"></i>\n                <input\n                  type=\"text\"\n                  placeholder=\"Selling book No.\"\n                  className=\"text-name\"\n                  value={sellingBookNo}\n                  onChange={(e) => setSellingBookNo(e.target.value)}\n                />\n              </div>\n              <div className=\"input-name\">\n                <i className=\"fa fa-file-text-o\"></i>\n                <input\n                  type=\"text\"\n                  placeholder=\"Selling page No.\"\n                  className=\"text-name\"\n                  value={sellingPageNo}\n                  onChange={(e) => setSellingPageNo(e.target.value)}\n                />\n              </div>\n              <div className=\"input-name\">\n                <span style={{ marginLeft: \"0px\" }}>Installation date</span>\n                <input\n                  type=\"date\"\n                  required\n                  value={installationDate}\n                  onChange={(e) => setInstallationDate(e.target.value)}\n                  className=\"text-name\"\n                />\n              </div>\n              <div className=\"input-name\">\n                <i className=\"fa fa-map-pin\"></i>\n                <input\n                  type=\"text\"\n                  placeholder=\"Plastic seal\"\n                  className=\"text-name\"\n                  value={plasticSeal}\n                  onChange={(e) => setPlasticSeal(e.target.value)}\n                />\n              </div>\n\n              <div className=\" input-name\">\n                <input\n                  type=\"file\"\n                  id=\"fileUploaded\"\n                  name=\"fileUploaded\"\n                  hidden=\"hidden\"\n                  onChange={(event) => handleInputSelect(event)}\n                />\n                <label\n                  type=\"button\"\n                  htmlFor=\"fileUploaded\"\n                  className=\"label-button\"\n                >\n                  Choose photo\n                </label>\n                {/* <button type=\"button\" id=\"custom-button\" onClick={customButtonClick}>Choose photo</button> */}\n                <span id=\"custom-text\">{fileName} </span>\n              </div>\n              <div className=\"input-name\">\n                <input\n                  className=\"button\"\n                  type=\"button\"\n                  onClick={submitForm}\n                  value=\"submit\"\n                />\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n      { open && <SnackBarComponent setOpen = {(e) => {setOpen(false)}} message={message} severity={severity}/> }\n    </>\n  );\n};\n\nexport default Form;\n","import React, { useEffect, useState } from 'react'\nimport Form from './Form'\nimport CustomForm from './CustomForm'\n\nconst MainForm = () => {\n    \n    return (\n        <>\n        { window.innerWidth > 480 && <Form />}\n        { window.innerWidth <= 480 && <CustomForm />}\n        </>\n    )\n}\n\nexport default MainForm","import React, { useEffect } from 'react'\nimport {useHistory} from 'react-router-dom'\n\n\nconst Protected = (props) => {\n    let history = useHistory();\n    console.log(props)\n    let Component = props.Comp;\n\n    useEffect(()=>{\n        \n        let payload = {\n            accessToken:localStorage.accessToken\n        }\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(payload)\n        }\n        fetch('http://localhost:7860/validate',requestOptions).then(res =>res.json()).then(data => {\n            if (data.message === \"Done\") {\n                console.log(\"Validation done\")\n                if (data.type === 2) \n                    history.push('/form')\n                else \n                    history.push('/admin')\n            }\n            else {\n                console.log(\"Validation of accesstoken failed\")\n                const payload = {\n                    refreshToken:localStorage.refreshToken\n                }\n        \n                const requestOptions = {\n                    method: 'POST',\n                    headers: { 'Content-Type': 'application/json' },\n                    body: JSON.stringify(payload)\n                }\n                console.log(\"Generate new key with refresh token\")\n                fetch('http://localhost:7860/refresh_session',requestOptions).then(res => res.json()).then(data=>{\n                    if (data.message === \"session refreshed\") {\n                        console.log(\"access token refreshed by using refreshtoken\")\n                        localStorage.accessToken  = data.accessToken\n                        localStorage.refreshToken = data.refreshToken\n                        if (data.type === 2)\n                            history.push('/form')\n                        else \n                            history.push('/admin')\n                    }\n                    else {\n                        console.log(\"Refresh token is also expired\")\n                        history.push('/');\n                    }\n                })\n            }\n        })\n       \n    },[history])\n\n    return <Component />;\n}\n\nexport default (Protected);","import React from 'react';\nimport { Route, Switch } from 'react-router-dom'\nimport AdminTest from './AdminComponents/AdminTest';\nimport MainAuth from './AuthComponents/MainAuth';\nimport MainForm from './FormComponents/MainForm';\nimport Protected from './MiddlewareComponents/Protected';\n\n\nconst App = () => {\n\n    return (\n        <main>\n            <Switch>\n            <Route  path='/' exact > \n                <Protected Comp={MainAuth}/>\n            </Route>\n            <Route exact path='/form'>\n                <Protected Comp = {MainForm}/>\n            </Route>     \n            <Route exact path='/admin'>\n                <Protected Comp = {AdminTest}/>\n            </Route>  \n            </Switch>\n        </main>\n    )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\nimport {BrowserRouter} from 'react-router-dom';\n\n\nReactDOM.render(\n \n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  \n  document.getElementById('root')\n);\n"],"sourceRoot":""}